<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width">
</head><body>
<button id="play">play</button>
<button id="snare">snare (2)</button>
<button id="hihat">hihat (3)</button>
<script type="module">
import { Tone } from "./Tone.mjs";
import { toneKick, toneSnare, toneHihat } from "./drums1.mjs";

play.onclick = () => {
    //const ptn = ["C4", ["E4", "D4", "E4"], "G4", ["A4", "G4"]];
    const ptn = ["C4", "C4", "C5", "C3", "C4", []];
    const seq = new Tone.Sequence((time, note) => {
	    toneKick.triggerAttackRelease(note, 0.1, time);
	    toneSnare.play();
    }, ptn).start(0);
    /*
    const ptn2 = ["C2", "C2", [], "C2", "C2", []];
    const seq2 = new Tone.Sequence((time, note) => {
    }, ptn2).start(0);
    */
    //toneKick.play();
    Tone.Transport.start();
    toneKick.triggerAttackRelease("C5", 0.1, 0); // dummy
};
snare.onclick = () => {
    toneSnare.play();
};
hihat.onclick = () => {
    toneHihat.play();
};
document.body.onkeydown = (e) => {
    if (e.key == "1") {
//        kick.onclick();
    } else if (e.key == "2") {
        snare.onclick();
    } else if (e.key == "3") {
        hihat.onclick();
    }
};
</script>
</body>
</html>
